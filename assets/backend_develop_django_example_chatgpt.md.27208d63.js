import{_ as s,o as a,c as n,a as l}from"./app.ee1d1b16.js";const p="/assets/example_base_html.1058beab.png",o="/assets/example_chatbot_html.48ecdb8d.png",h=JSON.parse('{"title":"範例: Django ChatGPT","description":"","frontmatter":{},"headers":[{"level":2,"title":"前提","slug":"前提","link":"#前提","children":[]},{"level":2,"title":"建立 django_chatbot 專案","slug":"建立-django-chatbot-專案","link":"#建立-django-chatbot-專案","children":[]},{"level":2,"title":"執行專案","slug":"執行專案","link":"#執行專案","children":[]},{"level":2,"title":"建立應用 app","slug":"建立應用-app","link":"#建立應用-app","children":[]},{"level":2,"title":"建立頁面模板 (Template)","slug":"建立頁面模板-template","link":"#建立頁面模板-template","children":[]},{"level":2,"title":"資料夾結構","slug":"資料夾結構","link":"#資料夾結構","children":[]},{"level":2,"title":"註冊","slug":"註冊","link":"#註冊","children":[]},{"level":2,"title":"建立子路由 (urls.py)","slug":"建立子路由-urls-py","link":"#建立子路由-urls-py","children":[]},{"level":2,"title":"建立控制函式 (views.py)","slug":"建立控制函式-views-py","link":"#建立控制函式-views-py","children":[]},{"level":2,"title":"建構中!","slug":"建構中","link":"#建構中","children":[{"level":3,"title":"參考","slug":"參考","link":"#參考","children":[]}]}],"relativePath":"backend_develop/django/example_chatgpt.md","lastUpdated":1688690398000}'),e={name:"backend_develop/django/example_chatgpt.md"},t=l(`<h1 id="範例-django-chatgpt" tabindex="-1">範例: Django ChatGPT <a class="header-anchor" href="#範例-django-chatgpt" aria-hidden="true">#</a></h1><h2 id="前提" tabindex="-1">前提 <a class="header-anchor" href="#前提" aria-hidden="true">#</a></h2><p>預先安裝 : <code>Venv</code>、<code>Django</code>、<code>OPENAI</code> 預先申請 : <code>ChatGPT API_KEY</code></p><h2 id="建立-django-chatbot-專案" tabindex="-1">建立 django_chatbot 專案 <a class="header-anchor" href="#建立-django-chatbot-專案" aria-hidden="true">#</a></h2><div class="language-cmd"><button title="Copy Code" class="copy"></button><span class="lang">cmd</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">venv/Scripts/activate</span></span>
<span class="line"><span style="color:#A6ACCD;">django</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">admin startproject django_chatbot</span></span>
<span class="line"><span style="color:#A6ACCD;">cd django_chatbot</span></span>
<span class="line"></span></code></pre></div><h2 id="執行專案" tabindex="-1">執行專案 <a class="header-anchor" href="#執行專案" aria-hidden="true">#</a></h2><div class="language-cmd"><button title="Copy Code" class="copy"></button><span class="lang">cmd</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">py manage.py runserver</span></span>
<span class="line"></span></code></pre></div><p>預設會在 <code>http://127.0.0.1:8000</code>看到專案</p><h2 id="建立應用-app" tabindex="-1">建立應用 app <a class="header-anchor" href="#建立應用-app" aria-hidden="true">#</a></h2><div class="language-cmd"><button title="Copy Code" class="copy"></button><span class="lang">cmd</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">py manage.py startapp chatapp</span></span>
<span class="line"><span style="color:#A6ACCD;">code .</span></span>
<span class="line"></span></code></pre></div><p>建立子路由 <code>urls.py</code>。</p><h2 id="建立頁面模板-template" tabindex="-1">建立頁面模板 (Template) <a class="header-anchor" href="#建立頁面模板-template" aria-hidden="true">#</a></h2><div class="language-cmd"><button title="Copy Code" class="copy"></button><span class="lang">cmd</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">md templates</span></span>
<span class="line"></span></code></pre></div><p>添加兩個檔案 <code>base.html</code>、<code>chatbot.html</code></p><ol><li><p>base.html <img src="`+p+'" alt="base_html"></p></li><li><p>chatbot.html <img src="'+o+`"></p></li></ol><p>解釋一下js寫什麼</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 先宣告一些元件</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> msgList </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">querySelector</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.messages-list</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> msgForm </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">querySelector</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.message-form</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> msgInput </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">querySelector</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.message-input</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 增加送出事件</span></span>
<span class="line"><span style="color:#A6ACCD;">  msgForm</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">submit</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">event</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">preventDefault</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 送出訊息，並去除空白</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">message</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">msgInput</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">trim</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 檢測是否沒填資料</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">message</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 當接收後放到前端時，增加元件</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">msgItem</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createElement</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">li</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">msgItem</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">classList</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">message</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">sent</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">msgItem</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">innerHTML</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#C3E88D;">        &lt;div class=&quot;message-text&quot;&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">            &lt;div class=&quot;message-sender&quot;&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">                &lt;b&gt;You&lt;/b&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">            &lt;/div&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">            &lt;div class=&quot;message-content&quot;&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">                </span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">message</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C3E88D;">            &lt;/div&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">        &lt;/div&gt;</span><span style="color:#89DDFF;">\`</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 把資料都放在最後面的新區域</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">msgList</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">appendChild</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">msgItem</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 輸入值預設空值</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">msgInput</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 傳送到後端</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">fetch</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      method</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">POST</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      headers</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">Content-Type</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">application/x-www-form-urlencoded</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">      body</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">URLSearchParams</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// 這裡是經過csrf規格</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">csrfmiddlewaretoken</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">querySelector</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[name=csrfmiddlewaretoken]</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// 傳送 message 給後端</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">message</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">message</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 以json格式傳送</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;font-style:italic;">response</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">response</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">json</span><span style="color:#F07178;">())</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;font-style:italic;">data</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">response</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">data</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">response</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">msgItem</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createElement</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">li</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">msgItem</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">classList</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">message</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">received</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">msgItem</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">innerHTML</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#C3E88D;">        &lt;div class=&quot;message-text&quot;&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">            &lt;div class=&quot;message-sender&quot;&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">              &lt;b&gt;AI Chatbot&lt;/b&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">            &lt;/div&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">            &lt;div class=&quot;message-content&quot;&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">                </span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">response</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C3E88D;">            &lt;/div&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">        &lt;/div&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">          </span><span style="color:#89DDFF;">\`</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">msgList</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">appendChild</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">msgItem</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h2 id="資料夾結構" tabindex="-1">資料夾結構 <a class="header-anchor" href="#資料夾結構" aria-hidden="true">#</a></h2><div class="language-md"><button title="Copy Code" class="copy"></button><span class="lang">md</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">DJANGO_CHATBOT\\</span></span>
<span class="line"><span style="color:#A6ACCD;">    |_ chatapp\\ (應用)</span></span>
<span class="line"><span style="color:#A6ACCD;">        |_ </span><span style="color:#89DDFF;font-weight:bold;">__</span><span style="color:#F07178;font-weight:bold;">init</span><span style="color:#89DDFF;font-weight:bold;">__</span><span style="color:#A6ACCD;">.py</span></span>
<span class="line"><span style="color:#A6ACCD;">        |_ admin.py</span></span>
<span class="line"><span style="color:#A6ACCD;">        |_ apps.py</span></span>
<span class="line"><span style="color:#A6ACCD;">        |_ models.py    (資料表)</span></span>
<span class="line"><span style="color:#A6ACCD;">        |_ tests.py (應用測試)</span></span>
<span class="line"><span style="color:#A6ACCD;">        |_ urls.py  (子路由)</span></span>
<span class="line"><span style="color:#A6ACCD;">        |_ views.py (應用控制)</span></span>
<span class="line"><span style="color:#A6ACCD;">    |_ django_chatbot\\  (主檔)</span></span>
<span class="line"><span style="color:#A6ACCD;">        |_ </span><span style="color:#89DDFF;font-weight:bold;">__</span><span style="color:#F07178;font-weight:bold;">init</span><span style="color:#89DDFF;font-weight:bold;">__</span><span style="color:#A6ACCD;">.py</span></span>
<span class="line"><span style="color:#A6ACCD;">        |_ asgi.py</span></span>
<span class="line"><span style="color:#A6ACCD;">        |_ settings.py  (設定註冊檔)</span></span>
<span class="line"><span style="color:#A6ACCD;">        |_ urls.py  (主路由)</span></span>
<span class="line"><span style="color:#A6ACCD;">        |_ wsgi.py</span></span>
<span class="line"><span style="color:#A6ACCD;">    |_ templates\\  (頁面模板)</span></span>
<span class="line"><span style="color:#A6ACCD;">        |_ base.html</span></span>
<span class="line"><span style="color:#A6ACCD;">        |_ chatbot.html</span></span>
<span class="line"><span style="color:#A6ACCD;">    |_ manage.py</span></span>
<span class="line"></span></code></pre></div><h2 id="註冊" tabindex="-1">註冊 <a class="header-anchor" href="#註冊" aria-hidden="true">#</a></h2><div class="language-py"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;"># django_chatbot / settings.py</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 註冊應用app</span></span>
<span class="line"><span style="color:#A6ACCD;">INSTALLED_APPS</span><span style="color:#89DDFF;">=[</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># ...</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">chatapp</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 註冊頁面模板資料夾</span></span>
<span class="line"><span style="color:#A6ACCD;">TEMPLATES</span><span style="color:#89DDFF;">=[{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># ...</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">DIRS</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:[</span><span style="color:#A6ACCD;"> BASE_DIR</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">templates</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#89DDFF;">}]</span></span>
<span class="line"></span></code></pre></div><div class="language-py"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;"># django_chatbot / urls.py</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 註冊應用app的子路由</span></span>
<span class="line"><span style="color:#A6ACCD;">urlpatterns</span><span style="color:#89DDFF;">=[</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># ...</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">path</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> include</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">chatbot.urls</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre></div><h2 id="建立子路由-urls-py" tabindex="-1">建立子路由 (<a href="http://urls.py" target="_blank" rel="noreferrer">urls.py</a>) <a class="header-anchor" href="#建立子路由-urls-py" aria-hidden="true">#</a></h2><div class="language-py"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;"># chatapp / urls.py</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> django</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">urls </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> path</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> views</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">urlpatterns</span><span style="color:#89DDFF;">=[</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">path</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> views</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">chatbot</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">chatbot</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre></div><h2 id="建立控制函式-views-py" tabindex="-1">建立控制函式 (<a href="http://views.py" target="_blank" rel="noreferrer">views.py</a>) <a class="header-anchor" href="#建立控制函式-views-py" aria-hidden="true">#</a></h2><div class="language-py"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;"># chatapp / views.py</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> django</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">shortcuts </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> render</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">home</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">request</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">HttpResponse</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Hello World!</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">chatbot</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">request</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">render</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">request</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">chatbot.html</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div><h2 id="建構中" tabindex="-1">建構中! <a class="header-anchor" href="#建構中" aria-hidden="true">#</a></h2><hr><h3 id="參考" tabindex="-1">參考 <a class="header-anchor" href="#參考" aria-hidden="true">#</a></h3><ul><li><a href="https://www.youtube.com/watch?v=qrZGfBBlXpk" target="_blank" rel="noreferrer">Django ChatGPT Clone Tutorial</a>20:01</li><li><a href="https://github.com/tomitokko/django-chatbot" target="_blank" rel="noreferrer">github_django-chatbot</a></li><li><a href="https://www.thepythoncode.com/article/web-assistant-django-with-gpt3-api-python" target="_blank" rel="noreferrer">How to Build a Web Assistant Using Django and ChatGPT API in Python</a></li></ul>`,30),c=[t];function r(y,D,F,i,C,A){return a(),n("div",null,c)}const g=s(e,[["render",r]]);export{h as __pageData,g as default};
