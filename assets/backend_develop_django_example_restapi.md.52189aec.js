import{_ as s,o as a,c as e,a as l}from"./app.ca57c996.js";const A=JSON.parse('{"title":"Example RestAPI","description":"","frontmatter":{},"headers":[{"level":2,"title":"安裝 REST Framework 框架","slug":"安裝-rest-framework-框架","link":"#安裝-rest-framework-框架","children":[]},{"level":2,"title":"搭建資料表 (models.py)","slug":"搭建資料表-models-py","link":"#搭建資料表-models-py","children":[]}],"relativePath":"backend_develop/django/example_restapi.md","lastUpdated":1687942378000}'),n={name:"backend_develop/django/example_restapi.md"},o=l(`<h1 id="example-restapi" tabindex="-1">Example RestAPI <a class="header-anchor" href="#example-restapi" aria-hidden="true">#</a></h1><p>建構 <code>RestAPI</code> 操作流程 :</p><ol><li>安裝 <code>django rest framewor</code> 框架。</li><li>搭建資料表 (<a href="http://models.py" target="_blank" rel="noreferrer">models.py</a>)。</li><li>建構序列模組 (<a href="http://serializers.py" target="_blank" rel="noreferrer">serializers.py</a>)。</li><li>搭建控制模組 (<a href="http://views.py" target="_blank" rel="noreferrer">views.py</a>)。</li><li>搭建子路由 (<a href="http://urls.py" target="_blank" rel="noreferrer">urls.py</a>)</li><li>註冊主路由 (<a href="http://urls.py" target="_blank" rel="noreferrer">urls.py</a>)</li></ol><h2 id="安裝-rest-framework-框架" tabindex="-1">安裝 REST Framework 框架 <a class="header-anchor" href="#安裝-rest-framework-框架" aria-hidden="true">#</a></h2><p>這是 <code>Django</code> 的 <code>API</code> 增強模組，類似 <code>FastAPI</code> 的 <code>swagger</code> 畫面。</p><div class="language-cmd"><button title="Copy Code" class="copy"></button><span class="lang">cmd</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">pip install djangorestframework</span></span>
<span class="line"></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">留意</p><p>Django Rest Framework 有制定義的 GenericAPIView 應用屬性，像是 : <code>filter_backends</code>、<code>serializer_class</code>，可參考 <a href="https://www.django-rest-framework.org/api-guide/generic-views/" target="_blank" rel="noreferrer">官方-Generic views</a>。</p></div><h2 id="搭建資料表-models-py" tabindex="-1">搭建資料表 (<a href="http://models.py" target="_blank" rel="noreferrer">models.py</a>) <a class="header-anchor" href="#搭建資料表-models-py" aria-hidden="true">#</a></h2><div class="language-py"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">MyItem</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">models</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Model</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    name</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">models</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">CharField</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">max_lenght</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">100</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__str__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;font-style:italic;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">name</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">OtherItem</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">models</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Model</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    item_name</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">models</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">CharField</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">max_lenght</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">100</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    price</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">models</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">FloatField</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">default</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># 關係欄位設置 on_delete</span></span>
<span class="line"><span style="color:#A6ACCD;">    category</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">models</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">ForeignKey</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">MyItem</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;font-style:italic;">on_delete</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">models</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">CASCADE</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    description</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">models</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">TextField</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre></div>`,9),p=[o];function t(r,c,i,y,F,d){return a(),e("div",null,p)}const C=s(n,[["render",t]]);export{A as __pageData,C as default};
