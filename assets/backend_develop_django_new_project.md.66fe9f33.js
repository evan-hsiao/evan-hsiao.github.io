import{_ as s,o as a,c as n,a as l}from"./app.ca57c996.js";const e="/assets/startpage.dd19b007.png",C=JSON.parse('{"title":"Django 專案建立","description":"","frontmatter":{},"headers":[{"level":2,"title":"環境需求","slug":"環境需求","link":"#環境需求","children":[]},{"level":2,"title":"安裝虛擬環境","slug":"安裝虛擬環境","link":"#安裝虛擬環境","children":[]},{"level":2,"title":"安裝Django","slug":"安裝django","link":"#安裝django","children":[]},{"level":2,"title":"建立專案","slug":"建立專案","link":"#建立專案","children":[]},{"level":2,"title":"執行專案","slug":"執行專案","link":"#執行專案","children":[]},{"level":2,"title":"研究探討","slug":"研究探討","link":"#研究探討","children":[]},{"level":2,"title":"備註","slug":"備註","link":"#備註","children":[]}],"relativePath":"backend_develop/django/new_project.md","lastUpdated":1688431060000}'),p={name:"backend_develop/django/new_project.md"},o=l(`<h1 id="django-專案建立" tabindex="-1">Django 專案建立 <a class="header-anchor" href="#django-專案建立" aria-hidden="true">#</a></h1><h2 id="環境需求" tabindex="-1">環境需求 <a class="header-anchor" href="#環境需求" aria-hidden="true">#</a></h2><ol><li>需安裝 Python。</li><li>建立虛擬環境 venv。</li><li>規劃好資料庫 (例如 : MySQL、PostgreSQL )，內建資料庫使用 <code>SQLite</code>。</li></ol><h2 id="安裝虛擬環境" tabindex="-1">安裝虛擬環境 <a class="header-anchor" href="#安裝虛擬環境" aria-hidden="true">#</a></h2><div class="language-cmd"><button title="Copy Code" class="copy"></button><span class="lang">cmd</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">py </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">m venv myvenv</span></span>
<span class="line"><span style="color:#A6ACCD;">myvenv/Scripts/activate</span></span>
<span class="line"></span></code></pre></div><p>如果要跳開虛擬環境的指令</p><div class="language-cmd"><button title="Copy Code" class="copy"></button><span class="lang">cmd</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">deactivate</span></span>
<span class="line"></span></code></pre></div><h2 id="安裝django" tabindex="-1">安裝Django <a class="header-anchor" href="#安裝django" aria-hidden="true">#</a></h2><div class="language-cmd"><button title="Copy Code" class="copy"></button><span class="lang">cmd</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">pip install django</span></span>
<span class="line"></span></code></pre></div><h2 id="建立專案" tabindex="-1">建立專案 <a class="header-anchor" href="#建立專案" aria-hidden="true">#</a></h2><p>此步驟會自動配置 <code>專案資料夾</code> 及 <code>Django</code> 設定檔案</p><div class="language-cmd"><button title="Copy Code" class="copy"></button><span class="lang">cmd</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">django</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">admin startproject myproject</span></span>
<span class="line"></span></code></pre></div><div class="language-cmd"><button title="Copy Code" class="copy"></button><span class="lang">cmd</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">myproject/</span></span>
<span class="line"><span style="color:#A6ACCD;">    manage.py   </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">管理專案、資料庫連接與啟動本地伺服器等功能，包含權限操作</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    |_myproject/</span></span>
<span class="line"><span style="color:#A6ACCD;">        |_ __init__.py</span></span>
<span class="line"><span style="color:#A6ACCD;">        |_ asgi.py  </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">非同步設定檔</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        |_ settings.py  </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">專案設置檔</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        |_ urls.py  </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">路由、網址對應檔</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        |_ wsgi.py  </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">網站與伺服器間的介面</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div><blockquote><p>題外話</p></blockquote><p>-<a href="https://medium.com/@eric248655665/%E4%BB%80%E9%BA%BC%E6%98%AF-wsgi-%E7%82%BA%E4%BB%80%E9%BA%BC%E8%A6%81%E7%94%A8-wsgi-f0d5f3001652" target="_blank" rel="noreferrer">什麼是 WSGI &amp; ASGI ? (Python 面試題)</a></p><h2 id="執行專案" tabindex="-1">執行專案 <a class="header-anchor" href="#執行專案" aria-hidden="true">#</a></h2><p>到了此步驟已經可以執行專案，這裡可以看到，只要執行專案都必須透過 <code>manage.py</code> 檔案。</p><div class="language-cmd"><button title="Copy Code" class="copy"></button><span class="lang">cmd</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">py manage.py runserver</span></span>
<span class="line"></span></code></pre></div><p>執行後就可以使用瀏覽器在 <code>http://127.0.0.1:8000/</code> 看到專案。</p><p><img src="`+e+`" alt="startpage"></p><div class="danger custom-block"><p class="custom-block-title">注意:</p><p>上述只是搭載好<code>Django</code>基本的架構，千萬不要以為這樣就搭載好，因為後續必須建立應用app，才能讓整個網站產生功能及作用。</p></div><h2 id="研究探討" tabindex="-1">研究探討 <a class="header-anchor" href="#研究探討" aria-hidden="true">#</a></h2><ol><li><p>FBV (function based view) 與 CBV (class-based view)，也就是說 <code>FBV</code> 用 <code>function函數</code> 來處理 <code>request</code>，<code>CVB</code>則是用<code>class</code>來處理。至於在何時使用，網路上有各種說法，其實兩樣都可以運用，並沒有一定強調要在哪個時候使用，不過慣例上，多半小型專案採 <code>FBV</code>。</p><blockquote><p>FBV</p></blockquote><div class="language-py"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;"># app/urls.py</span></span>
<span class="line"><span style="color:#A6ACCD;">urlpatterns</span><span style="color:#89DDFF;">=[</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#82AAFF;">path </span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">login/</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> views</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">login</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">login</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre></div><div class="language-py"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;"># app/views.py</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">login</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">request</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> request</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">method</span><span style="color:#89DDFF;">==</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">POST</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      name</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">request</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">POST</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">      psd</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">request</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">POST</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">password</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">      models</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">Item</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">objects</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">name</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;font-style:italic;">password</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">psd</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">render</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">request</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">index.html</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div><blockquote><p>CBV需要使用到<code>as_view()</code>，然後還需導入<code>主控制檔 views.py</code>，用 <code>dispath</code> 分配不同請求給予的函數。</p></blockquote><div class="language-py"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;"># app/urls.py</span></span>
<span class="line"><span style="color:#A6ACCD;"> urlpatterns</span><span style="color:#89DDFF;">=[</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#82AAFF;">path </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">r</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">^login/$</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> views</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">login</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">as_view</span><span style="color:#89DDFF;">())</span></span>
<span class="line"><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre></div><div class="language-py"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;"># app/views.py</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> django</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">views </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> View</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">login</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">View</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">post</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;font-style:italic;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">request</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">      name</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">request</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">POST</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">      psd</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">request</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">POST</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">password</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">      models</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">Item</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">objects</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">name</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;font-style:italic;">password</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">psd</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">render</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">request</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">index.html</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div></li></ol><blockquote><p>參考:</p></blockquote><ul><li><a href="https://medium.com/@ksarthak4ever/django-class-based-views-vs-function-based-view-e74b47b2e41b" target="_blank" rel="noreferrer">Class Based Views vs Function Based Views</a></li><li><a href="https://testdriven.io/blog/django-class-based-vs-function-based-views/" target="_blank" rel="noreferrer">Class-based vs Function-based Views</a></li><li><a href="https://ithelp.ithome.com.tw/articles/10205779" target="_blank" rel="noreferrer">Day27 : CBV vs. FBV</a></li><li><a href="https://www.jianshu.com/p/f0e98f725b0e" target="_blank" rel="noreferrer">Django中的FBV/CBV/GCBV</a></li><li><a href="https://zhuanlan.zhihu.com/p/104288795" target="_blank" rel="noreferrer">Django中的FBV &amp; CBV ——源码阅读（一）【面试必备】</a></li><li><a href="https://www.jianshu.com/p/b2687167f779" target="_blank" rel="noreferrer">Django的View（视图）</a></li><li><a href="https://hackmd.io/@dQ4YgWB9SJ23b0nGwIVRvQ/H1uVKKBHt#Class-Based-Views-CBV" target="_blank" rel="noreferrer">Class-Based Views (CBV)</a></li></ul><ol start="2"><li>WSGI 與 ASGI WSGI (Web Server Geteway Interface) ASGI (Asynchronous Server Geteway Interface)</li></ol><blockquote><p>參考</p></blockquote><ul><li><a href="https://channels-docs-zhtw.readthedocs.io/zh_TW/latest/asgi.html" target="_blank" rel="noreferrer">ASGI 非同步伺服器閘道介面</a></li></ul><h2 id="備註" tabindex="-1">備註 <a class="header-anchor" href="#備註" aria-hidden="true">#</a></h2><ol><li>View 建立流程: <ul><li>建立處理函式到 <code>views.py</code></li><li>建立子路由到 <code>myapps / urls.py</code></li><li>註冊路由到 <code>urls.py</code></li></ul></li><li>Templates 建立流程 : <ul><li>新增 <code>Templates</code> 資料夾。</li><li>新增 <code>first.html</code> 檔。</li><li>放到 <code>views.py</code> 內。</li></ul></li><li>APP建立 <ul><li>註冊到 <code>settings.py</code> 的 <code>INSTALLED_APPS</code> 內。</li></ul></li><li>資料庫建立 <ul><li>建立資料表列別到 <code>myapps / models.py</code></li><li>執行 <code>py manage.py makemigrations members</code> 上傳紀錄</li><li>執行 <code>py manage.py migrate</code> 建立資料表</li></ul></li></ol>`,30),t=[o];function c(r,i,y,D,F,d){return a(),n("div",null,t)}const h=s(p,[["render",c]]);export{C as __pageData,h as default};
